{
  "_format": "hh-sol-artifact-1",
  "contractName": "OrderStorage",
  "sourceName": "contracts/OrderStorage.sol",
  "abi": [
    {
      "inputs": [],
      "name": "CannotFindNextEmptyKey",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "CannotFindPrevEmptyKey",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidInitialization",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotInitializing",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "version",
          "type": "uint64"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "collection",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "enum LibOrder.Side",
          "name": "side",
          "type": "uint8"
        },
        {
          "internalType": "enum LibOrder.SaleKind",
          "name": "saleKind",
          "type": "uint8"
        }
      ],
      "name": "getBestOrder",
      "outputs": [
        {
          "components": [
            {
              "internalType": "enum LibOrder.Side",
              "name": "side",
              "type": "uint8"
            },
            {
              "internalType": "enum LibOrder.SaleKind",
              "name": "saleKind",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "maker",
              "type": "address"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "tokenId",
                  "type": "uint256"
                },
                {
                  "internalType": "address",
                  "name": "collection",
                  "type": "address"
                },
                {
                  "internalType": "uint96",
                  "name": "amount",
                  "type": "uint96"
                }
              ],
              "internalType": "struct LibOrder.Asset",
              "name": "nft",
              "type": "tuple"
            },
            {
              "internalType": "Price",
              "name": "price",
              "type": "uint128"
            },
            {
              "internalType": "uint64",
              "name": "expiry",
              "type": "uint64"
            },
            {
              "internalType": "uint64",
              "name": "salt",
              "type": "uint64"
            }
          ],
          "internalType": "struct LibOrder.Order",
          "name": "orderResult",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "collection",
          "type": "address"
        },
        {
          "internalType": "enum LibOrder.Side",
          "name": "side",
          "type": "uint8"
        }
      ],
      "name": "getBestPrice",
      "outputs": [
        {
          "internalType": "Price",
          "name": "price",
          "type": "uint128"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "collection",
          "type": "address"
        },
        {
          "internalType": "enum LibOrder.Side",
          "name": "side",
          "type": "uint8"
        },
        {
          "internalType": "Price",
          "name": "price",
          "type": "uint128"
        }
      ],
      "name": "getNextBestPrice",
      "outputs": [
        {
          "internalType": "Price",
          "name": "nextBestPrice",
          "type": "uint128"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "collection",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "enum LibOrder.Side",
          "name": "side",
          "type": "uint8"
        },
        {
          "internalType": "enum LibOrder.SaleKind",
          "name": "saleKind",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        },
        {
          "internalType": "Price",
          "name": "price",
          "type": "uint128"
        },
        {
          "internalType": "OrderKey",
          "name": "firstOrderKey",
          "type": "bytes32"
        }
      ],
      "name": "getOrders",
      "outputs": [
        {
          "components": [
            {
              "internalType": "enum LibOrder.Side",
              "name": "side",
              "type": "uint8"
            },
            {
              "internalType": "enum LibOrder.SaleKind",
              "name": "saleKind",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "maker",
              "type": "address"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "tokenId",
                  "type": "uint256"
                },
                {
                  "internalType": "address",
                  "name": "collection",
                  "type": "address"
                },
                {
                  "internalType": "uint96",
                  "name": "amount",
                  "type": "uint96"
                }
              ],
              "internalType": "struct LibOrder.Asset",
              "name": "nft",
              "type": "tuple"
            },
            {
              "internalType": "Price",
              "name": "price",
              "type": "uint128"
            },
            {
              "internalType": "uint64",
              "name": "expiry",
              "type": "uint64"
            },
            {
              "internalType": "uint64",
              "name": "salt",
              "type": "uint64"
            }
          ],
          "internalType": "struct LibOrder.Order[]",
          "name": "resultOrders",
          "type": "tuple[]"
        },
        {
          "internalType": "OrderKey",
          "name": "nextOrderKey",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "enum LibOrder.Side",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "Price",
          "name": "",
          "type": "uint128"
        }
      ],
      "name": "orderQueues",
      "outputs": [
        {
          "internalType": "OrderKey",
          "name": "head",
          "type": "bytes32"
        },
        {
          "internalType": "OrderKey",
          "name": "tail",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "OrderKey",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "orders",
      "outputs": [
        {
          "components": [
            {
              "internalType": "enum LibOrder.Side",
              "name": "side",
              "type": "uint8"
            },
            {
              "internalType": "enum LibOrder.SaleKind",
              "name": "saleKind",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "maker",
              "type": "address"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "tokenId",
                  "type": "uint256"
                },
                {
                  "internalType": "address",
                  "name": "collection",
                  "type": "address"
                },
                {
                  "internalType": "uint96",
                  "name": "amount",
                  "type": "uint96"
                }
              ],
              "internalType": "struct LibOrder.Asset",
              "name": "nft",
              "type": "tuple"
            },
            {
              "internalType": "Price",
              "name": "price",
              "type": "uint128"
            },
            {
              "internalType": "uint64",
              "name": "expiry",
              "type": "uint64"
            },
            {
              "internalType": "uint64",
              "name": "salt",
              "type": "uint64"
            }
          ],
          "internalType": "struct LibOrder.Order",
          "name": "order",
          "type": "tuple"
        },
        {
          "internalType": "OrderKey",
          "name": "next",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "enum LibOrder.Side",
          "name": "",
          "type": "uint8"
        }
      ],
      "name": "priceTrees",
      "outputs": [
        {
          "internalType": "Price",
          "name": "root",
          "type": "uint128"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461001657610e86908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c8063436a5ed6146108205780635dcc7f9c146105a95780637d910dac1461055a578063877edbff146101445780639c3f1e90146100fd5780639e09126c146100d25763e471ba461461006957600080fd5b346100cd576100773661084f565b6001600160a01b0390921660009081526002602052604090209061009a81610892565b60005260205260406000209060018060801b03166000526020526040806000206001815491015482519182526020820152f35b600080fd5b346100cd5760206100eb6100e536610944565b90610a6b565b6040516001600160801b039091168152f35b346100cd5760203660031901126100cd5760043560005260006020526101406040600020600461012c826109d0565b91015461013c60405180936108b2565b610120820152f35b346100cd5760e03660031901126100cd5761015d610839565b600260443510156100cd57600260643510156100cd5760a4356001600160801b03811690036100cd5760a43560c43560009261019a608435610d45565b60405193906001600160401b03601f8201601f191686019081119086111761054457601f01601f191684016040526084358085526101d790610d45565b601f190160005b81811061052d57505060a4356001600160801b0316610508575061020460443582610a6b565b90935b6000925b6001600160801b0383161515806104fd575b156104a8576001600160a01b0386166000908152600260205260409020610245604435610892565b604435600052602052604060002060018060801b038416600052602052604060002061026f610973565b602060018354938484520154910152918161044a575b915b8015158061043f575b156104245760005260006020526040600020916102ab610973565b6001600160401b0360a060046102c0876109d0565b96878552015480602085015295015116801515908161041a575b5061036b576102ea604435610892565b60443560011480610405575b6103bb575b610306604435610892565b604435600114806103a4575b610341575b6020915080516103278789610da5565b526103328688610da5565b50015193600101935b91610287565b600181515161034f81610892565b61035881610892565b1480610383575b80610371575b15610317575b5061033b565b50606081510151516024351415610365565b50600160208251015161039581610892565b61039e81610892565b1461035f565b506103b0606435610892565b600160643514610312565b60018151516103c981610892565b6103d281610892565b14806103e4575b156102fb575061033b565b5060016020825101516103f681610892565b6103ff81610892565b146103d9565b50610411606435610892565b606435156102f6565b90504211896102da565b50929490916104369060443583610ae8565b9190949261020b565b506084358510610290565b9095919493945b8015158061049e575b15610490576000526000602052602060406000206004610478610973565b91610482816109d0565b835201549182910152610451565b919550939293600090610285565b508681141561045a565b8482604051906040820190604083528351809252606083019160208095019060005b8181106104dd5750505082938301520390f35b90919386610120826104f260019489516108b2565b0195019291016104ca565b50608435841061021d565b908215610516575b93610207565b905061052760a43560443583610ae8565b90610510565b602090610538610d5c565b828289010152016101de565b634e487b7160e01b600052604160045260246000fd5b346100cd5761056836610944565b6001600160a01b0390911660009081526001602052604090209061058b81610892565b600052602052602060018060801b0360406000205416604051908152f35b346100cd5760803660031901126100cd576105c2610839565b600260443510156100cd57600260643510156100cd576105e0610d5c565b906105ed60443582610a6b565b905b6001600160801b0382168015610814576001600160a01b0382166000908152600260205260409020610622604435610892565b6044356000526020526040600020906000526020526040600020610644610973565b602060018354938484520154910152805b610699575b5060808301519091906001600160801b03166106835761067d9060443583610ae8565b906105ef565b5050610120905b61069760405180926108b2565bf35b6000526000602052604060002060046106b0610973565b916106ba816109d0565b8352015490602081019182526106d1604435610892565b604435600114806107fd575b610799575b6106ed604435610892565b60443560011480610784575b610738575b516001600160401b0360a082015116801590811561072e575b5061072457505180610655565b935084905061065a565b9050421086610717565b600181515161074681610892565b61074f81610892565b1480610763575b156106fe57505180610655565b50600160208251015161077581610892565b61077e81610892565b14610756565b50610790606435610892565b606435156106f9565b60018151516107a781610892565b6107b081610892565b14806107dc575b806107ca575b156106e257505180610655565b506060815101515160243514156107bd565b5060016020825101516107ee81610892565b6107f781610892565b146107b7565b50610809606435610892565b6001606435146106dd565b5050506101209061068a565b346100cd5760206100eb6108333661084f565b91610ae8565b600435906001600160a01b03821682036100cd57565b60609060031901126100cd576004356001600160a01b03811681036100cd579060243560028110156100cd57906044356001600160801b03811681036100cd5790565b6002111561089c57565b634e487b7160e01b600052602160045260246000fd5b6101009080516108c181610892565b835260208101516108d181610892565b602084015260018060a01b03806040830151166040850152606082015190815160608601526020820151166080850152604060018060601b039101511660a084015260018060801b0360808201511660c084015260c06001600160401b03918260a08201511660e0860152015116910152565b60409060031901126100cd576004356001600160a01b03811681036100cd579060243560028110156100cd5790565b60405190604082018281106001600160401b0382111761054457604052565b6040519060e082018281106001600160401b0382111761054457604052565b60405190606082018281106001600160401b0382111761054457604052565b9060036109db610992565b92805460ff81166109eb81610892565b855260ff8160081c166109fd81610892565b602086015260101c6001600160a01b039081166040860152610a1d6109b1565b90600183015482526002830154908116602083015260a01c60408201526060850152015460018060801b03811660808401526001600160401b038160801c1660a084015260c01c60c0830152565b610a7482610892565b600060018303610ab657506001600160a01b0316600090815260016020526040902090610aa081610892565b600052602052610ab36040600020610e12565b90565b6001600160a01b03909116815260016020526040808220610ab393919291610add81610892565b825260205220610dcf565b90916001600160801b03908181169081610b0857505050610a7482610892565b610b1485939495610892565b6001946000848703610c33575060018060a01b03166000526020908582526040938460002090610b4381610892565b60005282528380600020876000910194815284845220549060809180831c1515600014610bc457509085879695949392166000528282528360002054901c955b610b90575b505050505090565b909192939594848116600052828252848785600020015416908115610bbc575094959392919084610b83565b959650610b88565b8616969594939291865b610bdd575b5050505050505090565b90919293949596868116928315159081610c19575b5015610c135791600052838352858560002054169695949392919086610bce565b96610bd3565b905083600052858552878760002054841c91161438610bf2565b6001600160a01b0390911681526020868152604080832097989790969295919391610c5d81610892565b8652835287868620019385528383528585208289820154161515600014610cda5750908088979896959493921684528282528086868620015416965b610ca7575b50505050505090565b9091929394969581811685528383528585205460801c908115610cd257509596949392919085610c99565b969750610c9e565b90828998999795939694925416975b610cf7575050505050505090565b90919293949596868116918215159081610d2b575b5015610c13579084528282528484205486169695949392919086610ce9565b905082865284845287808a89892001541691161438610d0c565b6001600160401b0381116105445760051b60200190565b610d64610992565b906000808352806020840152806040840152610d7e6109b1565b81815281602082015281604082015260608401528060808401528060a084015260c0830152565b8051821015610db95760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b80546001600160801b039081169182610de757505090565b915b60406000838316815260018501602052205460801c908115610e0b5750610de9565b9392505050565b80546001600160801b039081169182610e2a57505090565b915b8160008183168152604060019182870160205220015416908115610e0b5750610e2c56fea26469706673582212201a0b713b53feab9110c71d053732a0b643a7d3623abd4661ec2e065c39952bce64736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b60003560e01c8063436a5ed6146108205780635dcc7f9c146105a95780637d910dac1461055a578063877edbff146101445780639c3f1e90146100fd5780639e09126c146100d25763e471ba461461006957600080fd5b346100cd576100773661084f565b6001600160a01b0390921660009081526002602052604090209061009a81610892565b60005260205260406000209060018060801b03166000526020526040806000206001815491015482519182526020820152f35b600080fd5b346100cd5760206100eb6100e536610944565b90610a6b565b6040516001600160801b039091168152f35b346100cd5760203660031901126100cd5760043560005260006020526101406040600020600461012c826109d0565b91015461013c60405180936108b2565b610120820152f35b346100cd5760e03660031901126100cd5761015d610839565b600260443510156100cd57600260643510156100cd5760a4356001600160801b03811690036100cd5760a43560c43560009261019a608435610d45565b60405193906001600160401b03601f8201601f191686019081119086111761054457601f01601f191684016040526084358085526101d790610d45565b601f190160005b81811061052d57505060a4356001600160801b0316610508575061020460443582610a6b565b90935b6000925b6001600160801b0383161515806104fd575b156104a8576001600160a01b0386166000908152600260205260409020610245604435610892565b604435600052602052604060002060018060801b038416600052602052604060002061026f610973565b602060018354938484520154910152918161044a575b915b8015158061043f575b156104245760005260006020526040600020916102ab610973565b6001600160401b0360a060046102c0876109d0565b96878552015480602085015295015116801515908161041a575b5061036b576102ea604435610892565b60443560011480610405575b6103bb575b610306604435610892565b604435600114806103a4575b610341575b6020915080516103278789610da5565b526103328688610da5565b50015193600101935b91610287565b600181515161034f81610892565b61035881610892565b1480610383575b80610371575b15610317575b5061033b565b50606081510151516024351415610365565b50600160208251015161039581610892565b61039e81610892565b1461035f565b506103b0606435610892565b600160643514610312565b60018151516103c981610892565b6103d281610892565b14806103e4575b156102fb575061033b565b5060016020825101516103f681610892565b6103ff81610892565b146103d9565b50610411606435610892565b606435156102f6565b90504211896102da565b50929490916104369060443583610ae8565b9190949261020b565b506084358510610290565b9095919493945b8015158061049e575b15610490576000526000602052602060406000206004610478610973565b91610482816109d0565b835201549182910152610451565b919550939293600090610285565b508681141561045a565b8482604051906040820190604083528351809252606083019160208095019060005b8181106104dd5750505082938301520390f35b90919386610120826104f260019489516108b2565b0195019291016104ca565b50608435841061021d565b908215610516575b93610207565b905061052760a43560443583610ae8565b90610510565b602090610538610d5c565b828289010152016101de565b634e487b7160e01b600052604160045260246000fd5b346100cd5761056836610944565b6001600160a01b0390911660009081526001602052604090209061058b81610892565b600052602052602060018060801b0360406000205416604051908152f35b346100cd5760803660031901126100cd576105c2610839565b600260443510156100cd57600260643510156100cd576105e0610d5c565b906105ed60443582610a6b565b905b6001600160801b0382168015610814576001600160a01b0382166000908152600260205260409020610622604435610892565b6044356000526020526040600020906000526020526040600020610644610973565b602060018354938484520154910152805b610699575b5060808301519091906001600160801b03166106835761067d9060443583610ae8565b906105ef565b5050610120905b61069760405180926108b2565bf35b6000526000602052604060002060046106b0610973565b916106ba816109d0565b8352015490602081019182526106d1604435610892565b604435600114806107fd575b610799575b6106ed604435610892565b60443560011480610784575b610738575b516001600160401b0360a082015116801590811561072e575b5061072457505180610655565b935084905061065a565b9050421086610717565b600181515161074681610892565b61074f81610892565b1480610763575b156106fe57505180610655565b50600160208251015161077581610892565b61077e81610892565b14610756565b50610790606435610892565b606435156106f9565b60018151516107a781610892565b6107b081610892565b14806107dc575b806107ca575b156106e257505180610655565b506060815101515160243514156107bd565b5060016020825101516107ee81610892565b6107f781610892565b146107b7565b50610809606435610892565b6001606435146106dd565b5050506101209061068a565b346100cd5760206100eb6108333661084f565b91610ae8565b600435906001600160a01b03821682036100cd57565b60609060031901126100cd576004356001600160a01b03811681036100cd579060243560028110156100cd57906044356001600160801b03811681036100cd5790565b6002111561089c57565b634e487b7160e01b600052602160045260246000fd5b6101009080516108c181610892565b835260208101516108d181610892565b602084015260018060a01b03806040830151166040850152606082015190815160608601526020820151166080850152604060018060601b039101511660a084015260018060801b0360808201511660c084015260c06001600160401b03918260a08201511660e0860152015116910152565b60409060031901126100cd576004356001600160a01b03811681036100cd579060243560028110156100cd5790565b60405190604082018281106001600160401b0382111761054457604052565b6040519060e082018281106001600160401b0382111761054457604052565b60405190606082018281106001600160401b0382111761054457604052565b9060036109db610992565b92805460ff81166109eb81610892565b855260ff8160081c166109fd81610892565b602086015260101c6001600160a01b039081166040860152610a1d6109b1565b90600183015482526002830154908116602083015260a01c60408201526060850152015460018060801b03811660808401526001600160401b038160801c1660a084015260c01c60c0830152565b610a7482610892565b600060018303610ab657506001600160a01b0316600090815260016020526040902090610aa081610892565b600052602052610ab36040600020610e12565b90565b6001600160a01b03909116815260016020526040808220610ab393919291610add81610892565b825260205220610dcf565b90916001600160801b03908181169081610b0857505050610a7482610892565b610b1485939495610892565b6001946000848703610c33575060018060a01b03166000526020908582526040938460002090610b4381610892565b60005282528380600020876000910194815284845220549060809180831c1515600014610bc457509085879695949392166000528282528360002054901c955b610b90575b505050505090565b909192939594848116600052828252848785600020015416908115610bbc575094959392919084610b83565b959650610b88565b8616969594939291865b610bdd575b5050505050505090565b90919293949596868116928315159081610c19575b5015610c135791600052838352858560002054169695949392919086610bce565b96610bd3565b905083600052858552878760002054841c91161438610bf2565b6001600160a01b0390911681526020868152604080832097989790969295919391610c5d81610892565b8652835287868620019385528383528585208289820154161515600014610cda5750908088979896959493921684528282528086868620015416965b610ca7575b50505050505090565b9091929394969581811685528383528585205460801c908115610cd257509596949392919085610c99565b969750610c9e565b90828998999795939694925416975b610cf7575050505050505090565b90919293949596868116918215159081610d2b575b5015610c13579084528282528484205486169695949392919086610ce9565b905082865284845287808a89892001541691161438610d0c565b6001600160401b0381116105445760051b60200190565b610d64610992565b906000808352806020840152806040840152610d7e6109b1565b81815281602082015281604082015260608401528060808401528060a084015260c0830152565b8051821015610db95760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b80546001600160801b039081169182610de757505090565b915b60406000838316815260018501602052205460801c908115610e0b5750610de9565b9392505050565b80546001600160801b039081169182610e2a57505090565b915b8160008183168152604060019182870160205220015416908115610e0b5750610e2c56fea26469706673582212201a0b713b53feab9110c71d053732a0b643a7d3623abd4661ec2e065c39952bce64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
